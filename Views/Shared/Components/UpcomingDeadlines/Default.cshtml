@model IEnumerable<ProjectManagement.Models.AssignedTask>

<div class="card shadow-sm mb-4">
    <div class="card-body">
        <h6 class="fw-bold text-primary mb-3">⏰ Upcoming Deadlines</h6>

        @if (!Model.Any())
        {
            <p class="text-muted small">No upcoming tasks 🎉</p>
        }
        else
        {
            <ul class="list-group list-group-flush small">
                @foreach (var task in Model)
                {
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        <span>
                            @task.Task?.Title ?? "Untitled Task"
                            <br />
                            <span class="text-muted">Due: @task.DueDate.ToShortDateString()</span>
                        </span>
                        <span class="badge rounded-pill
                                    @(task.Status == ProjectManagement.Models.TaskStatus.Pending ? "bg-secondary" :
                                                            task.Status == ProjectManagement.Models.TaskStatus.InProgress ? "bg-warning text-dark" :
                                                            task.Status == ProjectManagement.Models.TaskStatus.PendingConfirmation ? "bg-info text-dark" :
                                                            task.Status == ProjectManagement.Models.TaskStatus.Completed ? "bg-success" :
                                                            "bg-danger")">
                    @task.Status
                </span>
            </li>
                        }
            </ul>
        }
    </div>
</div>
